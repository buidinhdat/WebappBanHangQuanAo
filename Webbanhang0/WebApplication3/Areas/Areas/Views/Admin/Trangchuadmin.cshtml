
@{
    ViewBag.Title = "Trang chủ";
    Layout = "~/Areas/Areas/Views/Shared/_Adminlayout.cshtml";
}

<style>
    table {
        padding: 0;
        border: none;
        border-collapse: collapse;
        border: 1px solid #ddd;
        width: 100%;
        margin: 50px auto;
    }

    tr:hover {
        color: red;
    }

    #suaxoa:hover {
        background-color: aqua;
    }

    button {
        padding: 10px 20px;
        border: 1px solid #eaeaea;
        background: #666;
        color: #fff;
        line-height: 1.5;
    }

        button:hover {
            background: #ff3366;
            border: 1px solid #ff3366;
        }

    .themmoi {
        color: white;
    }
</style>

@using WebApplication3.Areas.Areas.Models
<div class="row">
    <div class="col-md-6">
        <iframe src="https://calendar.google.com/calendar/embed?src=buidinhdat08111997%40gmail.com&ctz=Asia%2FHo_Chi_Minh" style="border: 0" width="100%" height="300" frameborder="0" scrolling="no"></iframe>
    </div>
    <div class="col-md-6">
        <iframe frameborder="0" marginwidth="0" marginheight="0" src="http://thienduongweb.com/tool/weather/?r=1&w=1&g=1&d=0" width="100%" height="300" scrolling="no"></iframe>

    </div>
</div>


<br />
    @using (Html.BeginForm("Timkiemdoanhthutheongay", "Admin", FormMethod.Get))
    {
    <div class="row">
        <div class="col-md-2">
            Ngày bắt đầu

        </div>
        <div class="col-md-3">
            <input type="date" class="form-control" name="startdate" id="startdate" />
        </div>
        <div class="col-md-2">
            Ngày kết thúc

        </div>
        <div class="col-md-3"><input type="date" class="form-control" name="enddate" id="enddate" onblur="clickCheckDate()" /></div>
        <div class="col-md-2">
            <button type="submit" class="btn btn-danger" id="btnxem" name="btnxem"><span class="glyphicon glyphicon-compressed"></span>Doanh thu</button>

        </div>
    </div>
    }


    @using (Html.BeginForm("Timkiemdoanhthutheothang", "Admin", FormMethod.Get))
    {
        <div class="row">
            <div class="col-md-2">Tháng</div>
            <div class="col-md-3">
                <select class="form-control" name="month" id="month">
                    <option value="1">Tháng 1</option>
                    <option value="2">Tháng 2</option>
                    <option value="3">Tháng 3</option>
                    <option value="4">Tháng 4</option>
                    <option value="5">Tháng 5</option>
                    <option value="6">Tháng 6</option>
                    <option value="7">Tháng 7</option>
                    <option value="8">Tháng 8</option>
                    <option value="9">Tháng 9</option>
                    <option value="10">Tháng 10</option>
                    <option value="11">Tháng 11</option>
                    <option value="12">Tháng 12</option>

                </select>
            </div>
            <div class="col-md-5"></div>
            <div class="col-md-2">
                <button type="submit" class="btn btn-primary" id="btnxem" name="btnxem"><span class="glyphicon glyphicon-bed"></span> Doanh thu</button>
            </div>
        </div>
    }

    
<h2>Doanh thu ngày: <span style="color:red;">@ViewData["doanhthu"]</span><span style="color:blue;">VND</span></h2>
<br />
<h2>Các đơn hàng</h2>
<table class="table table-striped table-bordered table-hover" id="example">
    <thead>
        <tr>
            <th>
                Tên phương thức thanh toán
            </th>
            <th>
                Tên khách hàng
            </th>
            <th>
                Ngày đặt hàng
            </th>
            <th>
                Địa chỉ
            </th>
            <th>
                Email
            </th>
            <th>
                Tình trạng
            </th>
            <th>
                Ghi chú
            </th>
            <th>
                Tổng tiền
            </th>


        </tr>
    </thead>
    <tbody>
        @foreach (var item in (List<donhang>)ViewBag.listdonhanghomnay)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.thanhtoan.tenphuongthucthanhtoan)
                </td>
                <td>
                    @item.tenkhachhang
                </td>
                <td>
                    @item.ngaydathang
                </td>
                <td>
                    @item.diachi
                </td>
                <td>
                    @item.email
                </td>
                <td>
                    @item.tinhtrang
                </td>
                <td>
                    @item.ghichu
                </td>
                <td>
                    @item.tongtienthanhtoan
                </td>


            </tr>
        }
    </tbody>
</table>

<h2>Các chi tiết đơn hàng</h2>
<table class="table table-striped table-bordered table-hover" id="example">
    <thead>
        <tr>
            <th>
                Tên khách hàng
            </th>
            <th>
                Tên sản phẩm
            </th>
            <th>
                Số lượng mua
            </th>
            <th>
                Đơn giá
            </th>
            <th>
                Thành tiền
            </th>

        </tr>
    </thead>
    <tbody>

        @foreach (var item in (List<chitietdonhang>)ViewBag.listchitietdonhanghomnay)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.donhang.tenkhachhang)
                    

                </td>
                <td>
                    @item.tensanpham
                </td>
                <td>
                    @item.soluongmua
                </td>
                <td>
                    @item.dongia
                </td>
                <td>
                    @item.tongtien
                </td>

              
            </tr>

        }
    </tbody>

</table>

<script>
    function clickCheckDate() {

        
        var startDate = document.getElementById("startdate").value;
        var endDate = document.getElementById("enddate").value;
        if (endDate < startDate) {
            alert("Ngày kết thúc phải sau ngày bắt đầu");
        }


    }
</script>